# MiniDB项目可复用提示模板

## 代码生成提示模板

### 1. 新模块创建提示
```
我需要为MiniDB项目创建一个新的{module_name}模块。请帮我：

1. 设计模块的公共API接口
2. 实现核心数据结构
3. 添加适当的错误处理
4. 包含完整的单元测试
5. 遵循项目的Rust编码规范

模块功能描述：{module_description}

请确保代码符合以下要求：
- 使用Rust最佳实践
- 包含详细的文档注释
- 实现适当的trait
- 考虑并发安全性
- 提供调试和日志支持
```

### 2. 性能优化提示
```
我需要优化MiniDB项目中的{component_name}组件的性能。当前存在的性能问题：
{performance_issues}

请帮我：
1. 分析性能瓶颈
2. 提出优化方案
3. 实现性能改进
4. 添加性能测试基准
5. 确保优化不影响正确性

重点关注：
- 内存使用效率
- CPU缓存友好性
- 并发性能
- I/O效率
- 算法复杂度
```

### 3. 错误处理重构提示
```
请帮我重构MiniDB项目中{module_name}模块的错误处理，要求：

1. 使用thiserror库定义清晰的错误类型层次
2. 提供有意义的错误消息和上下文
3. 实现错误传播和转换
4. 添加错误恢复机制（如果适用）
5. 包含错误处理的单元测试

当前错误处理问题：
{current_issues}

期望的错误处理行为：
{expected_behavior}
```

### 4. 测试完善提示
```
我需要为MiniDB项目的{module_name}模块添加全面的测试覆盖。请帮我创建：

1. 单元测试 - 测试各个函数和方法
2. 集成测试 - 测试模块间交互
3. 属性测试 - 使用proptest进行模糊测试
4. 性能测试 - 使用criterion进行基准测试
5. 错误路径测试 - 测试错误处理逻辑

测试重点：
- 边界条件
- 并发安全性
- 资源清理
- 错误恢复
- 性能回归
```

## 调试和故障排除提示模板

### 5. 并发问题诊断提示
```
MiniDB项目在并发场景下出现了问题：{issue_description}

请帮我：
1. 分析可能的竞态条件
2. 检查锁的使用是否正确
3. 识别死锁风险
4. 提出并发安全的解决方案
5. 添加并发测试用例

涉及的模块：{affected_modules}
错误表现：{error_symptoms}
```

### 6. 内存泄露诊断提示
```
MiniDB项目疑似存在内存泄露问题：{symptoms}

请帮我：
1. 分析内存分配和释放模式
2. 检查资源生命周期管理
3. 识别循环引用问题
4. 使用智能指针优化内存管理
5. 添加内存使用监控

关注区域：{focus_areas}
内存使用模式：{memory_patterns}
```

### 7. 性能分析提示
```
需要对MiniDB项目进行性能分析，当前性能指标：
{current_metrics}

目标性能指标：
{target_metrics}

请帮我：
1. 设置性能测试环境
2. 识别性能瓶颈
3. 分析CPU和内存使用情况
4. 评估I/O性能
5. 提供优化建议

测试场景：{test_scenarios}
```

## 架构设计提示模板

### 8. 模块架构设计提示
```
我需要设计MiniDB项目中{system_name}子系统的架构。系统需求：
{requirements}

请帮我：
1. 设计模块划分和接口
2. 定义数据流和控制流
3. 考虑扩展性和维护性
4. 处理依赖关系
5. 提供实现路线图

关键约束：{constraints}
性能要求：{performance_requirements}
```

### 9. API设计提示
```
需要为MiniDB项目设计{component_name}组件的公共API。API用途：
{api_purpose}

设计要求：
1. 易于使用和理解
2. 类型安全
3. 错误处理清晰
4. 支持异步操作（如适用）
5. 考虑向后兼容性

用户场景：{use_cases}
约束条件：{constraints}
```

### 10. 数据结构设计提示
```
我需要为MiniDB项目中的{use_case}设计高效的数据结构。要求：

功能需求：
- {functional_requirements}

性能需求：
- {performance_requirements}

请帮我：
1. 选择合适的数据结构
2. 设计内存布局
3. 实现基本操作
4. 考虑并发访问
5. 优化缓存性能

约束条件：{constraints}
```

## 代码审查提示模板

### 11. 代码审查提示
```
请对MiniDB项目中的以下代码进行全面审查：

{code_snippet}

重点关注：
1. 代码正确性和逻辑
2. 错误处理的完整性
3. 性能优化机会
4. 内存安全性
5. 并发安全性
6. 代码可读性和维护性
7. 是否遵循Rust最佳实践

如有问题，请提供具体的改进建议和修改后的代码。
```

### 12. 重构建议提示
```
MiniDB项目中的{module_name}模块需要重构，当前问题：
{current_problems}

重构目标：
{refactoring_goals}

请提供：
1. 重构策略和步骤
2. 风险评估
3. 测试策略
4. 迁移计划
5. 性能影响分析

约束条件：
{constraints}
```

## 文档生成提示模板

### 13. API文档生成提示
```
请为MiniDB项目的{module_name}模块生成完整的API文档，包括：

1. 模块概述和用途说明
2. 主要类型和trait的详细说明
3. 函数和方法的使用示例
4. 错误类型和处理方式
5. 性能注意事项
6. 最佳实践指导

文档风格要求：
- 清晰简洁
- 包含实用示例
- 面向开发者
- 符合rustdoc标准
```

### 14. 教程生成提示
```
请为MiniDB项目创建{topic}的入门教程，目标读者：{target_audience}

教程内容应包括：
1. 概念介绍
2. 环境准备
3. 基础示例
4. 进阶用法
5. 常见问题和解决方案
6. 进一步学习资源

教程要求：
- 循序渐进
- 实例丰富
- 可操作性强
- 突出重点
```

## 使用指南

### 如何使用这些提示模板：

1. **选择合适的模板**：根据当前任务选择最相关的提示模板
2. **填充占位符**：将模板中的 `{placeholder}` 替换为具体内容
3. **定制化调整**：根据具体需求调整提示内容
4. **迭代改进**：根据结果反馈不断优化提示

### 最佳实践：

- **具体明确**：提供详细的上下文信息
- **结构化**：使用清晰的格式和分点描述
- **可验证**：设置明确的成功标准
- **递进式**：将复杂任务分解为小步骤

这些模板可以显著提高与GitHub Copilot的协作效率，确保生成的代码符合MiniDB项目的质量标准。
