# MiniDB 完整存储系统测试计划

根据项目要求，需要验证以下功能：

## 1. ⚫ 构造模拟数据表，执行插入、查询、删除操作

### 当前问题：
- 交互模式缺少CREATE TABLE命令
- 缺少INSERT命令
- 需要扩展命令支持

### 解决方案：
扩展database_demo.rs的交互模式，添加以下命令：
- `create table <name> <columns>` - 创建表
- `insert <table> <values>` - 插入数据
- `stats` - 显示存储统计信息

## 2. ⚫ 验证页分配与释放是否正确

### 当前状态：
- storage_demo.exe 已经有页分配测试
- 需要集成到database_demo.exe中

### 需要验证的指标：
- 页面分配计数
- 页面释放计数
- 页面使用率
- 文件大小变化

## 3. ⚫ 验证缓存命中率与替换策略效果

### 当前状态：
- storage_demo.exe 显示了缓存命中率变化
- 需要在database操作中显示缓存统计

### 需要验证的指标：
- 缓存命中率
- LRU替换次数
- 脏页写回次数

## 4. ⚫ 输出日志与统计信息

### 当前状态：
- 有基本的事务日志
- 缺少详细的存储统计

### 需要的统计信息：
- 页面操作统计
- 缓存性能统计
- I/O操作统计
- 内存使用统计

## 实际测试步骤

1. 运行storage_demo.exe看页面和缓存详细统计
2. 运行database_demo.exe的test命令看数据库操作
3. 创建增强的测试命令来整合两者

让我立即进行这些测试...